import _defineProperty from "@babel/runtime/helpers/esm/defineProperty";
import _typeof from "@babel/runtime/helpers/esm/typeof";
var animationProps = ['animation', 'animationName', 'animationDuration', 'animationTimingFunction', 'animationDelay', 'animationIterationCount', 'animationDirection', 'animationFillMode', 'animationPlayState'];
/**
 * Fela plugin for disabling animations. The animations are disabled or not based on the
 * props' disableAnimations param. If the value of the prop is true, all animation related
 * styles are removed.
 *
 * Caution! Infinite recursion is possible in case if style object has links to self in the props
 * tree.
 */

export default (function () {
  var disableAnimations = function disableAnimations(styles, type, renderer, props) {
    if (props && props.disableAnimations && type === 'RULE') {
      return Object.keys(styles).reduce(function (acc, cssPropertyName) {
        var cssPropertyValue = styles[cssPropertyName];

        if (animationProps.indexOf(cssPropertyName) !== -1) {
          return acc;
        }

        if (_typeof(cssPropertyValue) === 'object') {
          return Object.assign({}, acc, _defineProperty({}, cssPropertyName, disableAnimations(cssPropertyValue, type, renderer, props)));
        }

        return Object.assign({}, acc, _defineProperty({}, cssPropertyName, styles[cssPropertyName]));
      }, {});
    }

    return styles;
  };

  return disableAnimations;
});
//# sourceMappingURL=felaDisableAnimationsPlugin.js.map
