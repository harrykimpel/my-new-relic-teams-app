{"version":3,"sources":["components/Debug/DebugRect.tsx"],"names":["React","DebugRect","createRef","fiberNav","props","domNode","getBoundingClientRect","selectorRef","current","rect","style","top","left","width","height","requestAnimationFrame","setDebugSelectorPosition","prevProps","prevState","snapshot","position","padding","margin","background","border","zIndex","pointerEvents","userSelect","bottom","color","fontWeight","name","fontSize","tagName","toLowerCase","hasAttribute","getAttribute","replace","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport FiberNavigator from './FiberNavigator';\n\ninterface DebugRectProps {\n  fiberNav: FiberNavigator;\n}\n\nclass DebugRect extends React.Component<DebugRectProps> {\n  selectorRef = React.createRef<HTMLPreElement>();\n\n  componentDidMount() {\n    this.setDebugSelectorPosition();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.setDebugSelectorPosition();\n  }\n\n  setDebugSelectorPosition = () => {\n    const { fiberNav } = this.props;\n\n    if (\n      fiberNav &&\n      fiberNav.domNode &&\n      fiberNav.domNode.getBoundingClientRect &&\n      typeof fiberNav.domNode.getBoundingClientRect === 'function' &&\n      this.selectorRef.current\n    ) {\n      const rect = fiberNav.domNode.getBoundingClientRect();\n\n      this.selectorRef.current.style.top = `${rect.top}px`;\n      this.selectorRef.current.style.left = `${rect.left}px`;\n      this.selectorRef.current.style.width = `${rect.width}px`;\n      this.selectorRef.current.style.height = `${rect.height}px`;\n\n      requestAnimationFrame(this.setDebugSelectorPosition);\n    }\n  };\n\n  render() {\n    const { fiberNav } = this.props;\n\n    if (!fiberNav) {\n      return null;\n    }\n\n    return (\n      <pre\n        ref={this.selectorRef}\n        style={{\n          position: 'fixed',\n          padding: 0,\n          margin: 0,\n          background: '#6495ed22',\n          border: '1px solid #6495edcc',\n          zIndex: 99999999,\n          pointerEvents: 'none',\n          userSelect: 'none',\n        }}\n      >\n        <div\n          style={{\n            position: 'absolute',\n            padding: '2px 4px',\n            margin: '-1px 0 0 -1px',\n            bottom: '100%',\n            left: 0,\n            color: '#fff',\n            background: '#6495ed',\n          }}\n        >\n          <span style={{ fontWeight: 'bold' }}>{`<${fiberNav.name} />`}</span>\n        </div>\n        {fiberNav.domNode && (\n          <div\n            style={{\n              fontSize: '0.9em',\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '0 0 1px -1px',\n              top: '100%',\n              left: 0,\n              background: '#6495ed',\n            }}\n          >\n            <strong style={{ fontWeight: 'bold', color: 'hsl(160, 100%, 80%)' }}>\n              {fiberNav.domNode.tagName && fiberNav.domNode.tagName.toLowerCase()}\n            </strong>\n            {fiberNav.domNode.hasAttribute &&\n              typeof fiberNav.domNode.hasAttribute === 'function' &&\n              fiberNav.domNode.hasAttribute('class') && (\n                <span style={{ color: 'rgba(255, 255, 255, 0.75)' }}>\n                  .{(fiberNav.domNode.getAttribute('class') || '').replace(/ +/g, '.')}\n                </span>\n              )}\n          </div>\n        )}\n      </pre>\n    );\n  }\n}\n\nexport default DebugRect;\n"],"file":"DebugRect.js"}