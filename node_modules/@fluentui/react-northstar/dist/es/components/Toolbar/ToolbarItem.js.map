{"version":3,"sources":["components/Toolbar/ToolbarItem.tsx"],"names":["toolbarItemBehavior","getElementType","useUnhandledProps","useAccessibility","useStyles","useTelemetry","Ref","EventListener","Unstable_NestingAuto","customPropTypes","mergeComponentVariables","cx","PropTypes","React","ThemeContext","createShorthandFactory","doesNodeContainClick","commonPropTypes","childrenExist","withSafeTypeForAs","getPopperPropsFromShorthand","Popper","ToolbarMenu","Box","Popup","ToolbarVariablesContext","ToolbarVariablesProvider","toolbarItemClassName","toolbarItemSlotClassNames","wrapper","ToolbarItem","props","context","useContext","displayName","telemetry","setStart","setEnd","accessibility","active","className","design","icon","children","disabled","popup","menu","menuOpen","styles","variables","itemRef","useRef","menuRef","parentVariables","mergedVariables","getA11yProps","debugName","actionHandlers","performClick","event","preventDefault","handleClick","performWrapperClick","handleWrapperClick","closeMenuAndFocusTrigger","trySetMenuOpen","current","doNotNavigateNextToolbarItem","stopPropagation","mapPropsToBehavior","as","String","hasMenu","hasPopup","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","handleBlur","e","handleFocus","nativeEvent","target","handleOutsideClick","getRefs","isItemClick","isNestedClick","childRef","isInside","newValue","handleMenuOverrides","predefinedProps","onBlur","isInsideOrMenuTrigger","contains","relatedTarget","onItemClick","itemProps","ElementType","unhandledProps","handledProps","itemElement","root","onFocus","onClick","create","submenuElement","nestingRef","node","overrideProps","popupElement","defaultProps","trapFocus","trigger","undefined","contentElement","wrapperElement","refElement","propTypes","createCommon","bool","shorthandAllowingChildren","oneOfType","arrayOf","onMenuOpenChange","func","shape","never","string","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import { Accessibility, toolbarItemBehavior, ToolbarItemBehaviorProps } from '@fluentui/accessibility';\nimport { getElementType, useUnhandledProps, useAccessibility, useStyles, useTelemetry } from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport { EventListener } from '@fluentui/react-component-event-listener';\nimport { GetRefs, NodeRef, Unstable_NestingAuto } from '@fluentui/react-component-nesting-registry';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport { mergeComponentVariables } from '@fluentui/styles';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\n\nimport {\n  createShorthandFactory,\n  doesNodeContainClick,\n  UIComponentProps,\n  ChildrenComponentProps,\n  ContentComponentProps,\n  commonPropTypes,\n  childrenExist,\n} from '../../utils';\nimport {\n  ComponentEventHandler,\n  ShorthandValue,\n  WithAsProp,\n  withSafeTypeForAs,\n  Omit,\n  ShorthandCollection,\n  FluentComponentStaticProps,\n  ProviderContextPrepared,\n} from '../../types';\nimport { getPopperPropsFromShorthand, Popper, PopperShorthandProps } from '../../utils/positioner';\n\nimport ToolbarMenu, { ToolbarMenuProps } from './ToolbarMenu';\nimport Box, { BoxProps } from '../Box/Box';\nimport Popup, { PopupProps } from '../Popup/Popup';\nimport { ToolbarMenuItemProps } from '../Toolbar/ToolbarMenuItem';\nimport { ToolbarItemShorthandKinds } from './Toolbar';\nimport { ToolbarVariablesContext, ToolbarVariablesProvider } from './toolbarVariablesContext';\n\nexport interface ToolbarItemProps extends UIComponentProps, ChildrenComponentProps, ContentComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<ToolbarItemBehaviorProps>;\n\n  /** A toolbar item can be active. */\n  active?: boolean;\n\n  /** A toolbar item can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n\n  /** Name or shorthand for Toolbar Item Icon */\n  icon?: ShorthandValue<BoxProps>;\n\n  /**\n   * Shorthand for the submenu.\n   * If submenu is specified, the item is wrapped to group the item and the menu elements together.\n   */\n  menu?:\n    | ShorthandValue<ToolbarMenuProps & { popper?: PopperShorthandProps }>\n    | ShorthandCollection<ToolbarMenuItemProps, ToolbarItemShorthandKinds>;\n\n  /** Indicates if the menu inside the item is open. */\n  menuOpen?: boolean;\n\n  /**\n   * Event for request to change 'menuOpen' value.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onMenuOpenChange?: ComponentEventHandler<ToolbarItemProps>;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<ToolbarItemProps>;\n\n  /**\n   * Called after user's focus.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<ToolbarItemProps>;\n\n  /**\n   * Called after item blur.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onBlur?: ComponentEventHandler<ToolbarItemProps>;\n\n  /**\n   * Attaches a `Popup` component to the ToolbarItem.\n   * Accepts all props as a `Popup`, except `trigger` and `children`.\n   * Traps focus by default.\n   * @see PopupProps\n   */\n  popup?: Omit<PopupProps, 'trigger' | 'children'> | string;\n\n  /** Shorthand for the wrapper component. The item is wrapped only if it contains a menu! */\n  wrapper?: ShorthandValue<BoxProps>;\n}\n\nexport type ToolbarItemStylesProps = Required<Pick<ToolbarItemProps, 'active' | 'disabled'>>;\n\nexport interface ToolbarItemSlotClassNames {\n  wrapper: string;\n}\n\nexport const toolbarItemClassName = 'ui-toolbar__item';\nexport const toolbarItemSlotClassNames: ToolbarItemSlotClassNames = {\n  wrapper: `${toolbarItemClassName}__wrapper`,\n};\n\nconst ToolbarItem: React.FC<WithAsProp<ToolbarItemProps>> & FluentComponentStaticProps<ToolbarItemProps> = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(ToolbarItem.displayName, context.telemetry);\n  setStart();\n\n  const {\n    accessibility,\n    active,\n    className,\n    design,\n    icon,\n    children,\n    disabled,\n    popup,\n    menu,\n    menuOpen,\n    wrapper,\n    styles,\n    variables,\n  } = props;\n\n  const itemRef = React.useRef<HTMLElement>();\n  const menuRef = React.useRef<HTMLElement>();\n\n  const parentVariables = React.useContext(ToolbarVariablesContext);\n  const mergedVariables = mergeComponentVariables(parentVariables, variables);\n\n  const getA11yProps = useAccessibility(accessibility, {\n    debugName: ToolbarItem.displayName,\n    actionHandlers: {\n      performClick: event => {\n        event.preventDefault();\n        handleClick(event);\n      },\n      performWrapperClick: event => {\n        handleWrapperClick(event);\n      },\n      closeMenuAndFocusTrigger: event => {\n        trySetMenuOpen(false, event);\n        _.invoke(itemRef.current, 'focus');\n      },\n      doNotNavigateNextToolbarItem: event => {\n        event.stopPropagation();\n      },\n    },\n    mapPropsToBehavior: () => ({\n      as: String(props.as),\n      disabled,\n      hasMenu: !!menu,\n      hasPopup: !!popup,\n      menuOpen,\n      active,\n    }),\n    rtl: context.rtl,\n  });\n  const { classes } = useStyles<ToolbarItemStylesProps>(ToolbarItem.displayName, {\n    className: toolbarItemClassName,\n    mapPropsToStyles: () => ({ active, disabled }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables: mergedVariables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleBlur = (e: React.SyntheticEvent) => {\n    _.invoke(props, 'onBlur', e, props);\n  };\n\n  const handleFocus = (e: React.SyntheticEvent) => {\n    _.invoke(props, 'onFocus', e, props);\n  };\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (menu) {\n      trySetMenuOpen(!menuOpen, e);\n    }\n\n    _.invoke(props, 'onClick', e, props);\n  };\n\n  const handleWrapperClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (menu) {\n      if (doesNodeContainClick(menuRef.current, e.nativeEvent as MouseEvent, context.target)) {\n        trySetMenuOpen(false, e);\n      }\n    }\n  };\n\n  const handleOutsideClick = (getRefs: GetRefs) => (e: MouseEvent) => {\n    const isItemClick = doesNodeContainClick(itemRef.current, e, context.target);\n    const isNestedClick = _.some(getRefs(), (childRef: NodeRef) => {\n      return doesNodeContainClick(childRef.current as HTMLElement, e, context.target);\n    });\n    const isInside = isItemClick || isNestedClick;\n\n    if (!isInside) {\n      trySetMenuOpen(false, e);\n    }\n  };\n\n  const trySetMenuOpen = (newValue: boolean, e: Event | React.SyntheticEvent) => {\n    _.invoke(props, 'onMenuOpenChange', e, { ...props, menuOpen: newValue });\n  };\n\n  const handleMenuOverrides = (getRefs: GetRefs) => (predefinedProps: ToolbarMenuProps) => ({\n    onBlur: (e: React.FocusEvent) => {\n      const isInsideOrMenuTrigger = _.some(getRefs(), (childRef: NodeRef) => {\n        return (\n          childRef.current.contains(e.relatedTarget as HTMLElement) ||\n          itemRef.current.contains(e.relatedTarget as HTMLElement)\n        );\n      });\n\n      if (!isInsideOrMenuTrigger) {\n        trySetMenuOpen(false, e);\n      }\n    },\n    onItemClick: (e, itemProps: ToolbarMenuItemProps) => {\n      const { popup, menuOpen } = itemProps;\n      _.invoke(predefinedProps, 'onItemClick', e, itemProps);\n      if (popup) {\n        return;\n      }\n      // TODO: should we pass toolbarMenuItem to the user callback so he can decide if he wants to close the menu?\n      trySetMenuOpen(menuOpen, e);\n    },\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(ToolbarItem.handledProps, props);\n\n  const itemElement = (\n    <ElementType\n      {...getA11yProps('root', {\n        ...unhandledProps,\n        disabled,\n        className: classes.root,\n        onBlur: handleBlur,\n        onFocus: handleFocus,\n        onClick: handleClick,\n      })}\n    >\n      {childrenExist(children) ? children : Box.create(icon)}\n    </ElementType>\n  );\n\n  const submenuElement = menuOpen ? (\n    <Unstable_NestingAuto>\n      {(getRefs, nestingRef) => (\n        <>\n          <Ref\n            innerRef={(node: HTMLElement) => {\n              nestingRef.current = node;\n              menuRef.current = node;\n            }}\n          >\n            <Popper align=\"start\" position=\"above\" targetRef={itemRef} {...getPopperPropsFromShorthand(menu)}>\n              <ToolbarVariablesProvider value={mergedVariables}>\n                {ToolbarMenu.create(menu, {\n                  overrideProps: handleMenuOverrides(getRefs),\n                })}\n              </ToolbarVariablesProvider>\n            </Popper>\n          </Ref>\n          <EventListener listener={handleOutsideClick(getRefs)} target={context.target} type=\"click\" capture />\n        </>\n      )}\n    </Unstable_NestingAuto>\n  ) : null;\n\n  if (popup) {\n    const popupElement = Popup.create(popup, {\n      defaultProps: () => ({\n        trapFocus: true,\n      }),\n      overrideProps: {\n        trigger: itemElement,\n        children: undefined, // force-reset `children` defined for `Popup` as it collides with the `trigger`\n      },\n    });\n    setEnd();\n\n    return popupElement;\n  }\n\n  // wrap the item if it has menu (even if it is closed = not rendered)\n  if (menu) {\n    const contentElement = (\n      <>\n        <Ref innerRef={itemRef}>{itemElement}</Ref>\n        {submenuElement}\n      </>\n    );\n\n    if (wrapper) {\n      const wrapperElement = Box.create(wrapper, {\n        defaultProps: () =>\n          getA11yProps('wrapper', {\n            className: cx(toolbarItemSlotClassNames.wrapper, classes.wrapper),\n          }),\n        overrideProps: predefinedProps => ({\n          children: contentElement,\n          onClick: e => {\n            handleWrapperClick(e);\n            _.invoke(predefinedProps, 'onClick', e);\n          },\n        }),\n      });\n      setEnd();\n\n      return wrapperElement;\n    }\n\n    setEnd();\n    return contentElement;\n  }\n\n  const refElement = <Ref innerRef={itemRef}>{itemElement}</Ref>;\n  setEnd();\n\n  return refElement;\n};\n\nToolbarItem.displayName = 'ToolbarItem';\n\nToolbarItem.defaultProps = {\n  as: 'button',\n  accessibility: toolbarItemBehavior,\n  wrapper: {},\n};\nToolbarItem.propTypes = {\n  ...commonPropTypes.createCommon(),\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  icon: customPropTypes.shorthandAllowingChildren,\n  menu: PropTypes.oneOfType([\n    customPropTypes.shorthandAllowingChildren,\n    PropTypes.arrayOf(customPropTypes.shorthandAllowingChildren),\n  ]),\n  menuOpen: PropTypes.bool,\n  onMenuOpenChange: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  popup: PropTypes.oneOfType([\n    PropTypes.shape({\n      ...Popup.propTypes,\n      trigger: customPropTypes.never,\n      children: customPropTypes.never,\n    }),\n    PropTypes.string,\n  ]),\n  wrapper: customPropTypes.shorthandAllowingChildren,\n};\nToolbarItem.handledProps = Object.keys(ToolbarItem.propTypes) as any;\n\nToolbarItem.create = createShorthandFactory({ Component: ToolbarItem, mappedProp: 'content' });\n\n/**\n * A ToolbarItem renders Toolbar item as a button with an icon.\n */\nexport default withSafeTypeForAs<typeof ToolbarItem, ToolbarItemProps, 'button'>(ToolbarItem);\n"],"file":"ToolbarItem.js"}