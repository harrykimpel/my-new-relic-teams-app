{"version":3,"sources":["components/Toolbar/ToolbarMenuItem.tsx"],"names":["toolbarMenuItemBehavior","indicatorBehavior","React","cx","PropTypes","EventListener","Ref","customPropTypes","focusAsync","useTelemetry","useStyles","useAutoControlled","getElementType","useUnhandledProps","useAccessibility","mergeComponentVariables","ThemeContext","Unstable_NestingAuto","commonPropTypes","createShorthandFactory","childrenExist","doesNodeContainClick","withSafeTypeForAs","getPopperPropsFromShorthand","Popper","Box","Popup","ToolbarMenu","ToolbarVariablesContext","ToolbarVariablesProvider","toolbarMenuItemClassName","toolbarMenuItemSlotClassNames","activeIndicator","wrapper","submenu","submenuIndicator","ToolbarMenuItem","props","context","useContext","displayName","telemetry","setStart","setEnd","active","children","content","disabled","icon","menu","popup","inSubmenu","className","design","styles","variables","defaultValue","defaultMenuOpen","value","menuOpen","initialValue","setMenuOpen","itemRef","useRef","menuRef","parentVariables","mergedVariables","ElementType","unhandledProps","handledProps","getA11yProps","accessibility","debugName","mapPropsToBehavior","actionHandlers","performClick","event","preventDefault","handleClick","openMenu","closeAllMenusAndFocusNextParentItem","closeAllMenus","closeMenu","closeMenuAndFocusTrigger","doNotNavigateNextParentItem","stopPropagation","rtl","mapPropsToStyles","hasContent","mapPropsToInlineStyles","classes","resolvedStyles","e","trySetMenuOpen","isSubmenuOpen","current","newValue","onStateChanged","outsideClickHandler","getRefs","isItemClick","target","isNestedClick","childRef","isInside","handleMenuOverrides","predefinedProps","onItemClick","itemProps","element","root","onClick","create","defaultProps","as","hasChildren","popupElement","trapFocus","onOpenChange","overrideProps","trigger","undefined","menuItemInner","maybeSubmenu","nestingRef","node","wrapperElement","propTypes","createCommon","bool","shorthandAllowingChildren","index","number","oneOfType","itemShorthand","collectionShorthand","func","onMenuOpenChange","shape","never","string","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import {\n  Accessibility,\n  toolbarMenuItemBehavior,\n  ToolbarMenuItemBehaviorProps,\n  indicatorBehavior,\n} from '@fluentui/accessibility';\nimport * as React from 'react';\nimport * as _ from 'lodash';\nimport cx from 'classnames';\nimport * as PropTypes from 'prop-types';\n\nimport { EventListener } from '@fluentui/react-component-event-listener';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport {\n  focusAsync,\n  useTelemetry,\n  useStyles,\n  useAutoControlled,\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n} from '@fluentui/react-bindings';\nimport { mergeComponentVariables } from '@fluentui/styles';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\nimport { GetRefs, NodeRef, Unstable_NestingAuto } from '@fluentui/react-component-nesting-registry';\n\nimport {\n  ChildrenComponentProps,\n  commonPropTypes,\n  ContentComponentProps,\n  UIComponentProps,\n  createShorthandFactory,\n  childrenExist,\n  doesNodeContainClick,\n} from '../../utils';\nimport {\n  ComponentEventHandler,\n  ShorthandValue,\n  WithAsProp,\n  withSafeTypeForAs,\n  Omit,\n  ShorthandCollection,\n  FluentComponentStaticProps,\n  ProviderContextPrepared,\n} from '../../types';\nimport { getPopperPropsFromShorthand, Popper, PopperShorthandProps } from '../../utils/positioner';\n\nimport Box, { BoxProps } from '../Box/Box';\nimport Popup, { PopupProps } from '../Popup/Popup';\nimport ToolbarMenu, { ToolbarMenuProps, ToolbarMenuItemShorthandKinds } from './ToolbarMenu';\nimport { ToolbarVariablesContext, ToolbarVariablesProvider } from './toolbarVariablesContext';\n\nexport interface ToolbarMenuItemProps extends UIComponentProps, ChildrenComponentProps, ContentComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<ToolbarMenuItemBehaviorProps>;\n\n  /** A toolbar item can be active. */\n  active?: boolean;\n\n  /** A slot for a selected indicator in the dropdown list. */\n  activeIndicator?: ShorthandValue<BoxProps>;\n\n  /** A toolbar item can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n\n  /** Name or shorthand for Toolbar Item Icon */\n  icon?: ShorthandValue<BoxProps>;\n\n  /** ToolbarMenuItem index inside ToolbarMenu. */\n  index?: number;\n\n  /** Shorthand for the submenu indicator. */\n  submenuIndicator?: ShorthandValue<BoxProps>;\n\n  /** Indicates whether the menu item is part of submenu. */\n  inSubmenu?: boolean;\n\n  /** Shorthand for the submenu. */\n  menu?:\n    | ShorthandValue<ToolbarMenuProps & { popper?: PopperShorthandProps }>\n    | ShorthandCollection<ToolbarMenuItemProps, ToolbarMenuItemShorthandKinds>;\n\n  /** Indicates if the menu inside the item is open. */\n  menuOpen?: boolean;\n\n  /** Default menu open */\n  defaultMenuOpen?: boolean;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<ToolbarMenuItemProps>;\n\n  /**\n   * Called when the menu inside the item opens or closes.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props, with `menuOpen` reflecting the new state.\n   */\n  onMenuOpenChange?: ComponentEventHandler<ToolbarMenuItemProps>;\n\n  /**\n   * Attaches a `Popup` component to the ToolbarMenuItem.\n   * Accepts all props as a `Popup`, except `trigger` and `children`.\n   * Traps focus by default.\n   * @see PopupProps\n   */\n  popup?: Omit<PopupProps, 'trigger' | 'children'> | string;\n\n  /** Shorthand for the wrapper component. */\n  wrapper?: ShorthandValue<BoxProps>;\n}\n\nexport type ToolbarMenuItemStylesProps = Pick<ToolbarMenuItemProps, 'disabled'> & { hasContent: boolean };\n\nexport interface ToolbarMenuItemSlotClassNames {\n  activeIndicator: string;\n  wrapper: string;\n  submenu: string;\n  submenuIndicator: string;\n}\n\nexport const toolbarMenuItemClassName = 'ui-toolbar__menuitem';\nexport const toolbarMenuItemSlotClassNames: ToolbarMenuItemSlotClassNames = {\n  activeIndicator: `${toolbarMenuItemClassName}__activeIndicator`,\n  wrapper: `${toolbarMenuItemClassName}__wrapper`,\n  submenu: `${toolbarMenuItemClassName}__submenu`,\n  submenuIndicator: `${toolbarMenuItemClassName}__submenuIndicator`,\n};\n\nconst ToolbarMenuItem: React.FC<WithAsProp<ToolbarMenuItemProps>> &\n  FluentComponentStaticProps<ToolbarMenuItemProps> = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(ToolbarMenuItem.displayName, context.telemetry);\n  setStart();\n\n  const {\n    active,\n    activeIndicator,\n    children,\n    content,\n    disabled,\n    submenuIndicator,\n    icon,\n    menu,\n    popup,\n    wrapper,\n    inSubmenu,\n    className,\n    design,\n    styles,\n    variables,\n  } = props;\n\n  const [menuOpen, setMenuOpen] = useAutoControlled({\n    defaultValue: props.defaultMenuOpen,\n    value: props.menuOpen,\n    initialValue: false,\n  });\n\n  const itemRef = React.useRef<HTMLElement>();\n  const menuRef = React.useRef<HTMLElement>();\n\n  const parentVariables = React.useContext(ToolbarVariablesContext);\n  const mergedVariables = mergeComponentVariables(parentVariables, variables);\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(ToolbarMenuItem.handledProps, props);\n\n  const getA11yProps = useAccessibility(props.accessibility, {\n    debugName: ToolbarMenuItem.displayName,\n    mapPropsToBehavior: () => ({\n      menu,\n      active,\n      menuOpen,\n      disabled,\n      'aria-label': props['aria-label'],\n      'aria-labelledby': props['aria-labelledby'],\n      'aria-describedby': props['aria-describedby'],\n    }),\n    actionHandlers: {\n      performClick: event => {\n        event.preventDefault();\n        handleClick(event);\n      },\n      openMenu: event => openMenu(event),\n      closeAllMenusAndFocusNextParentItem: event => closeAllMenus(event),\n      closeMenu: event => closeMenu(event),\n      closeMenuAndFocusTrigger: event => closeMenu(event),\n      doNotNavigateNextParentItem: event => {\n        event.stopPropagation();\n      },\n      closeAllMenus: event => closeAllMenus(event),\n    },\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<ToolbarMenuItemStylesProps>(ToolbarMenuItem.displayName, {\n    className: toolbarMenuItemClassName,\n    mapPropsToStyles: () => ({\n      disabled,\n      hasContent: !!content,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables: mergedVariables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const openMenu = (e: React.KeyboardEvent) => {\n    if (menu && !menuOpen) {\n      trySetMenuOpen(true, e);\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  };\n\n  const closeMenu = (e: React.KeyboardEvent) => {\n    if (!isSubmenuOpen()) {\n      return;\n    }\n\n    trySetMenuOpen(false, e, () => {\n      focusAsync(itemRef.current);\n    });\n\n    e.stopPropagation();\n  };\n\n  const closeAllMenus = (e: React.KeyboardEvent) => {\n    if (!isSubmenuOpen()) {\n      return;\n    }\n    trySetMenuOpen(false, e, () => {\n      if (!inSubmenu) {\n        focusAsync(itemRef.current);\n      }\n    });\n\n    // avoid spacebar scrolling the page\n    if (!inSubmenu) {\n      e.preventDefault();\n    }\n  };\n\n  const isSubmenuOpen = (): boolean => {\n    return !!(menu && menuOpen);\n  };\n\n  const trySetMenuOpen = (newValue: boolean, e: Event | React.SyntheticEvent, onStateChanged?: any) => {\n    setMenuOpen(newValue);\n    // The reason why post-effect is not passed as callback to trySetState method\n    // is that in 'controlled' mode the post-effect is applied before final re-rendering\n    // which cause a broken behavior: for e.g. when it is needed to focus submenu trigger on ESC.\n    // TODO: all DOM post-effects should be applied at componentDidMount & componentDidUpdated stages.\n    onStateChanged && onStateChanged();\n    _.invoke(props, 'onMenuOpenChange', e, {\n      ...props,\n      menuOpen: newValue,\n    });\n  };\n\n  const outsideClickHandler = (getRefs: GetRefs) => (e: MouseEvent) => {\n    const isItemClick = doesNodeContainClick(itemRef.current, e, context.target);\n    const isNestedClick = _.some(getRefs(), (childRef: NodeRef) => {\n      return doesNodeContainClick(childRef.current as HTMLElement, e, context.target);\n    });\n    const isInside = isItemClick || isNestedClick;\n\n    if (!isInside) {\n      trySetMenuOpen(false, e);\n    }\n  };\n\n  const handleMenuOverrides = (predefinedProps: ToolbarMenuProps) => ({\n    onItemClick: (e, itemProps: ToolbarMenuItemProps) => {\n      const { popup, menuOpen } = itemProps;\n      _.invoke(predefinedProps, 'onItemClick', e, itemProps);\n      if (popup) {\n        return;\n      }\n\n      trySetMenuOpen(menuOpen, e);\n      if (!menuOpen) {\n        _.invoke(itemRef.current, 'focus');\n      }\n    },\n  });\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (menu) {\n      // the menuItem element was clicked => toggle the open/close and stop propagation\n      trySetMenuOpen(!menuOpen, e);\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    if (popup) {\n      e.stopPropagation();\n      e.preventDefault();\n      return;\n    }\n\n    _.invoke(props, 'onClick', e, props);\n  };\n\n  const element = (\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        onClick: handleClick,\n        disabled,\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children) ? (\n        children\n      ) : (\n        <>\n          {Box.create(icon, {\n            defaultProps: () => ({\n              styles: resolvedStyles.icon,\n            }),\n          })}\n          {content}\n          {active &&\n            Box.create(activeIndicator, {\n              defaultProps: () => ({\n                as: 'span',\n                className: toolbarMenuItemSlotClassNames.activeIndicator,\n                styles: resolvedStyles.activeIndicator,\n                accessibility: indicatorBehavior,\n              }),\n            })}\n          {menu &&\n            Box.create(submenuIndicator, {\n              defaultProps: () => ({\n                as: 'span',\n                className: toolbarMenuItemSlotClassNames.submenuIndicator,\n                styles: resolvedStyles.submenuIndicator,\n                accessibility: indicatorBehavior,\n              }),\n            })}\n        </>\n      )}\n    </ElementType>\n  );\n\n  const hasChildren = childrenExist(children);\n\n  if (popup && !hasChildren) {\n    const popupElement = Popup.create(popup, {\n      defaultProps: () => ({\n        trapFocus: true,\n        onOpenChange: e => {\n          e.stopPropagation();\n        },\n      }),\n      overrideProps: {\n        trigger: element,\n        children: undefined, // force-reset `children` defined for `Popup` as it collides with the `trigger`\n      },\n    });\n    setEnd();\n\n    return popupElement;\n  }\n\n  const menuItemInner = hasChildren ? (children as React.ReactElement) : <Ref innerRef={itemRef}>{element}</Ref>;\n\n  const maybeSubmenu =\n    menu && menuOpen ? (\n      <Unstable_NestingAuto>\n        {(getRefs, nestingRef) => (\n          <>\n            <Ref\n              innerRef={(node: HTMLElement) => {\n                nestingRef.current = node;\n                menuRef.current = node;\n              }}\n            >\n              <Popper\n                align=\"top\"\n                position={context.rtl ? 'before' : 'after'}\n                targetRef={itemRef}\n                {...getPopperPropsFromShorthand(menu)}\n              >\n                <ToolbarVariablesProvider value={mergedVariables}>\n                  {ToolbarMenu.create(menu, {\n                    defaultProps: () => ({\n                      className: toolbarMenuItemSlotClassNames.submenu,\n                      styles: resolvedStyles.menu,\n                      submenu: true,\n                      submenuIndicator,\n                    }),\n                    overrideProps: handleMenuOverrides,\n                  })}\n                </ToolbarVariablesProvider>\n              </Popper>\n            </Ref>\n            <EventListener listener={outsideClickHandler(getRefs)} target={context.target} type=\"click\" />\n          </>\n        )}\n      </Unstable_NestingAuto>\n    ) : null;\n\n  if (!wrapper) {\n    setEnd();\n    return menuItemInner;\n  }\n\n  const wrapperElement = Box.create(wrapper, {\n    defaultProps: () =>\n      getA11yProps('wrapper', {\n        className: cx(toolbarMenuItemSlotClassNames.wrapper, classes.wrapper),\n      }),\n    overrideProps: () => ({\n      children: (\n        <>\n          {menuItemInner}\n          {maybeSubmenu}\n        </>\n      ),\n    }),\n  });\n  setEnd();\n\n  return wrapperElement;\n};\n\nToolbarMenuItem.displayName = 'ToolbarMenuItem';\n\nToolbarMenuItem.propTypes = {\n  ...commonPropTypes.createCommon(),\n  active: PropTypes.bool,\n  activeIndicator: customPropTypes.shorthandAllowingChildren,\n  defaultMenuOpen: PropTypes.bool,\n  disabled: PropTypes.bool,\n  icon: customPropTypes.shorthandAllowingChildren,\n  index: PropTypes.number,\n  submenuIndicator: customPropTypes.shorthandAllowingChildren,\n  inSubmenu: PropTypes.bool,\n  menu: PropTypes.oneOfType([customPropTypes.itemShorthand, customPropTypes.collectionShorthand]),\n  menuOpen: PropTypes.bool,\n  onClick: PropTypes.func,\n  onMenuOpenChange: PropTypes.func,\n  popup: PropTypes.oneOfType([\n    PropTypes.shape({\n      ...Popup.propTypes,\n      trigger: customPropTypes.never,\n      children: customPropTypes.never,\n    }),\n    PropTypes.string,\n  ]),\n  wrapper: customPropTypes.itemShorthand,\n};\n\nToolbarMenuItem.handledProps = Object.keys(ToolbarMenuItem.propTypes) as any;\n\nToolbarMenuItem.defaultProps = {\n  as: 'button',\n  accessibility: toolbarMenuItemBehavior,\n  wrapper: { as: 'li' },\n  activeIndicator: {},\n  submenuIndicator: {},\n};\n\nToolbarMenuItem.create = createShorthandFactory({\n  Component: ToolbarMenuItem,\n  mappedProp: 'content',\n});\n\n/**\n * A ToolbarMenuItem renders ToolbarMenu item as button.\n */\nexport default withSafeTypeForAs<typeof ToolbarMenuItem, ToolbarMenuItemProps, 'button'>(ToolbarMenuItem);\n"],"file":"ToolbarMenuItem.js"}