{"version":3,"sources":["components/Flex/FlexItem.tsx"],"names":["useStyles","useTelemetry","mergeStyles","cx","PropTypes","React","ThemeContext","commonPropTypes","applyStyles","element","styles","classes","type","cloneElement","className","props","root","flexItemClassName","FlexItem","context","useContext","displayName","telemetry","setStart","setEnd","align","children","design","grow","flexDirection","push","shrink","size","variables","mapPropsToStyles","mapPropsToInlineStyles","rtl","resolvedStyles","Children","only","propTypes","createCommon","accessibility","content","oneOfType","func","oneOf","string","bool","number","__isFlexItem"],"mappings":"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","sourcesContent":["import { ComponentSlotClasses, useStyles, useTelemetry } from '@fluentui/react-bindings';\nimport { ComponentSlotStylesPrepared, ComponentSlotStylesResolved, mergeStyles } from '@fluentui/styles';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\n\nimport { commonPropTypes, UIComponentProps, ChildrenComponentProps } from '../../utils';\nimport { ProviderContextPrepared } from '../../types';\n\ntype ChildrenFunction = (params: { styles: ComponentSlotStylesPrepared; classes: string }) => React.ReactElement;\n\nexport type FlexItemChildren = React.ReactElement | ChildrenFunction;\n\nexport interface FlexItemProps extends UIComponentProps, ChildrenComponentProps<FlexItemChildren> {\n  /** Controls item's alignment. */\n  align?: 'auto' | 'start' | 'end' | 'center' | 'baseline' | 'stretch';\n\n  /** Defines size of the item. */\n  size?: 'size.half' | 'size.quarter' | 'size.small' | 'size.medium' | 'size.large' | string;\n\n  /**\n   * Item can fill remaining space of the container.\n   * If numeric value is provided, remaining space will be distributed proportionally between all the items.\n   * */\n  grow?: boolean | number;\n\n  /**\n   * Controls item's ability to shrink.\n   * */\n  shrink?: boolean | number;\n\n  /**\n   * Item can be pushed towards opposite side in the container's direction.\n   */\n  push?: boolean;\n\n  /**\n   * IGNORE (will be refactored and not exposed via API).\n   * Value is automatically set by parent Flex component.\n   */\n  flexDirection?: 'row' | 'column';\n}\n\nexport type FlexItemStylesProps = Pick<FlexItemProps, 'align' | 'grow' | 'flexDirection' | 'push' | 'shrink' | 'size'>;\n\nconst applyStyles = (\n  element: React.ReactElement,\n  styles: ComponentSlotStylesResolved,\n  classes: ComponentSlotClasses,\n): React.ReactElement => {\n  if (!styles) {\n    return element;\n  }\n\n  // if element is DOM element\n  if (typeof element.type === 'string') {\n    return React.cloneElement(element, {\n      className: cx(element.props.className, classes.root),\n    });\n  }\n\n  // assuming element is Fluent UI element\n  return React.cloneElement(element, {\n    styles: mergeStyles(styles.root || {}, element.props.styles),\n  });\n};\n\nexport const flexItemClassName = 'ui-flex__item';\n\n/**\n * A FlexItem is a layout component that customizes alignment of Flex child.\n */\nconst FlexItem: React.FC<FlexItemProps> & { __isFlexItem: boolean } = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(FlexItem.displayName, context.telemetry);\n  setStart();\n\n  const { align, children, className, design, grow, flexDirection, push, shrink, size, styles, variables } = props;\n\n  const { classes, styles: resolvedStyles } = useStyles<FlexItemStylesProps>(FlexItem.displayName, {\n    className: flexItemClassName,\n    mapPropsToStyles: () => ({\n      align,\n      grow,\n      flexDirection,\n      push,\n      shrink,\n      size,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  let element: React.ReactElement;\n\n  // pass calculated bits using Render Props pattern\n  if (typeof children === 'function') {\n    element = children({\n      styles: resolvedStyles.root,\n      classes: classes.root,\n    });\n  } else if (_.isNil(children)) {\n    element = null;\n  } else {\n    element = applyStyles(React.Children.only(children) as React.ReactElement, resolvedStyles, classes);\n  }\n\n  setEnd();\n\n  return element;\n};\n\nFlexItem.displayName = 'FlexItem';\n\nFlexItem.propTypes = {\n  ...commonPropTypes.createCommon({\n    children: false,\n    accessibility: false,\n    content: false,\n  }),\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  align: PropTypes.oneOf(['auto', 'start', 'end', 'center', 'baseline', 'stretch']),\n  size: PropTypes.oneOfType([\n    PropTypes.oneOf(['size.half', 'size.quarter', 'size.small', 'size.medium', 'size.large']),\n    PropTypes.string,\n  ]),\n  shrink: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n\n  push: PropTypes.bool,\n\n  /**\n   * Will be automatically set by parent Flex component\n   */\n  flexDirection: PropTypes.oneOf(['row', 'column']),\n};\n\n// Boolean flag for now, Symbol-based approach may be used instead.\n// However, there are  concerns related to browser compatibility if Symbols will be used.\n// Completely alternative approach - check class name of React element (and generalize this logic).\nFlexItem.__isFlexItem = true;\n\nexport default FlexItem;\n"],"file":"FlexItem.js"}