{"version":3,"sources":["components/RadioGroup/RadioGroupItem.tsx"],"names":["radioGroupItemBehavior","Ref","customPropTypes","React","PropTypes","AutoControlledComponent","createShorthandFactory","commonPropTypes","applyAccessibilityKeyHandlers","Box","withSafeTypeForAs","radioGroupItemClassName","radioGroupItemSlotClassNames","indicator","RadioGroupItem","createRef","performClick","e","preventDefault","handleClick","props","checked","state","prevProps","prevState","shouldFocus","elementRef","current","focus","undefined","ElementType","classes","unhandledProps","styles","accessibility","label","handleChange","root","attributes","keyHandlers","create","defaultProps","className","as","createCommon","content","bool","defaultChecked","disabled","shorthandAllowingChildren","itemShorthand","name","string","onClick","func","onChange","value","oneOfType","number","vertical","Component","mappedProp"],"mappings":"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","sourcesContent":["import { Accessibility, radioGroupItemBehavior } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash';\n\nimport {\n  AutoControlledComponent,\n  createShorthandFactory,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  applyAccessibilityKeyHandlers,\n  ShorthandFactory,\n} from '../../utils';\nimport Box, { BoxProps } from '../Box/Box';\nimport { ComponentEventHandler, WithAsProp, ShorthandValue, withSafeTypeForAs } from '../../types';\n\nexport interface RadioGroupItemSlotClassNames {\n  indicator: string;\n}\n\nexport interface RadioGroupItemProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility;\n\n  /** Whether or not radio item is checked. */\n  checked?: boolean;\n\n  /**\n   * Called after radio item checked state is changed.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onChange?: ComponentEventHandler<RadioGroupItemProps>;\n\n  /** The label of the radio item. */\n  label?: ShorthandValue<BoxProps>;\n\n  /** Initial checked value. */\n  defaultChecked?: boolean;\n\n  /** A radio item can appear disabled and be unable to change states. */\n  disabled?: boolean;\n\n  /** The radio item indicator can be customized. */\n  indicator?: ShorthandValue<BoxProps>;\n\n  /** The HTML input name. */\n  name?: string;\n\n  /**\n   * Called after radio item is clicked.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<RadioGroupItemProps>;\n\n  /** Whether should focus when checked */\n  shouldFocus?: boolean; // TODO: RFC #306\n\n  /** The HTML input value. */\n  value?: string | number;\n\n  /** A vertical radio group displays elements vertically. */\n  vertical?: boolean;\n}\n\nexport interface RadioGroupItemState {\n  checked: boolean;\n}\n\nexport const radioGroupItemClassName = 'ui-radiogroup__item';\nexport const radioGroupItemSlotClassNames: RadioGroupItemSlotClassNames = {\n  indicator: `${radioGroupItemClassName}__indicator`,\n};\n\nclass RadioGroupItem extends AutoControlledComponent<WithAsProp<RadioGroupItemProps>, RadioGroupItemState> {\n  elementRef = React.createRef<HTMLElement>();\n\n  static create: ShorthandFactory<RadioGroupItemProps>;\n\n  static displayName = 'RadioGroupItem';\n\n  static deprecated_className = radioGroupItemClassName;\n\n  static propTypes = {\n    ...commonPropTypes.createCommon({\n      content: false,\n    }),\n    checked: PropTypes.bool,\n    defaultChecked: PropTypes.bool,\n    disabled: PropTypes.bool,\n    indicator: customPropTypes.shorthandAllowingChildren,\n    label: customPropTypes.itemShorthand,\n    name: PropTypes.string,\n    onClick: PropTypes.func,\n    onChange: PropTypes.func,\n    shouldFocus: PropTypes.bool,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    vertical: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    accessibility: radioGroupItemBehavior,\n    indicator: {},\n  };\n\n  static autoControlledProps = ['checked'];\n\n  actionHandlers = {\n    performClick: e => {\n      e.preventDefault();\n      this.handleClick(e);\n    },\n  };\n\n  handleClick = e => {\n    _.invoke(this.props, 'onClick', e, this.props);\n  };\n\n  handleChange = (e: React.ChangeEvent) => {\n    // RadioGroupItem component doesn't present any `input` component in markup, however all of our\n    // components should handle events transparently.\n    _.invoke(this.props, 'onChange', e, { ...this.props, checked: this.state.checked });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const checked = this.state.checked;\n    if (checked !== prevState.checked) {\n      checked && this.props.shouldFocus && this.elementRef.current.focus();\n      _.invoke(this.props, 'onChange', undefined, { ...this.props, checked });\n    }\n  }\n\n  renderComponent({ ElementType, classes, unhandledProps, styles, accessibility }) {\n    const { label, indicator } = this.props;\n\n    return (\n      <Ref innerRef={this.elementRef}>\n        <ElementType\n          onClick={this.handleClick}\n          onChange={this.handleChange}\n          className={classes.root}\n          {...accessibility.attributes.root}\n          {...unhandledProps}\n          {...applyAccessibilityKeyHandlers(accessibility.keyHandlers.root, unhandledProps)}\n        >\n          {Box.create(indicator, {\n            defaultProps: () => ({\n              className: radioGroupItemSlotClassNames.indicator,\n              styles: styles.indicator,\n            }),\n          })}\n          {Box.create(label, {\n            defaultProps: () => ({\n              as: 'span',\n            }),\n          })}\n        </ElementType>\n      </Ref>\n    );\n  }\n}\n\nRadioGroupItem.create = createShorthandFactory({ Component: RadioGroupItem, mappedProp: 'label' });\n\n/**\n * A RadioGroupItem represents single input element within a RadioGroup.\n *\n * @accessibility\n * Radio items need to be grouped to correctly handle accessibility.\n */\nexport default withSafeTypeForAs<typeof RadioGroupItem, RadioGroupItemProps>(RadioGroupItem);\n"],"file":"RadioGroupItem.js"}