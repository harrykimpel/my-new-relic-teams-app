{"version":3,"sources":["components/Toolbar/ToolbarItem.tsx"],"names":["toolbarItemClassName","toolbarItemSlotClassNames","wrapper","ToolbarItem","props","context","React","useContext","ThemeContext","displayName","telemetry","setStart","setEnd","accessibility","active","className","design","icon","children","disabled","popup","menu","menuOpen","styles","variables","itemRef","useRef","menuRef","parentVariables","ToolbarVariablesContext","mergedVariables","getA11yProps","debugName","actionHandlers","performClick","event","preventDefault","handleClick","performWrapperClick","handleWrapperClick","closeMenuAndFocusTrigger","trySetMenuOpen","current","doNotNavigateNextToolbarItem","stopPropagation","mapPropsToBehavior","as","String","hasMenu","hasPopup","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","handleBlur","e","handleFocus","nativeEvent","target","handleOutsideClick","getRefs","isItemClick","isNestedClick","childRef","isInside","newValue","handleMenuOverrides","predefinedProps","onBlur","isInsideOrMenuTrigger","contains","relatedTarget","onItemClick","itemProps","ElementType","unhandledProps","handledProps","itemElement","root","onFocus","onClick","Box","create","submenuElement","nestingRef","node","ToolbarMenu","overrideProps","popupElement","Popup","defaultProps","trapFocus","trigger","undefined","contentElement","wrapperElement","refElement","toolbarItemBehavior","propTypes","commonPropTypes","createCommon","PropTypes","bool","customPropTypes","shorthandAllowingChildren","oneOfType","arrayOf","onMenuOpenChange","func","shape","never","string","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import { Accessibility, toolbarItemBehavior, ToolbarItemBehaviorProps } from '@fluentui/accessibility';\nimport { getElementType, useUnhandledProps, useAccessibility, useStyles, useTelemetry } from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport { EventListener } from '@fluentui/react-component-event-listener';\nimport { GetRefs, NodeRef, Unstable_NestingAuto } from '@fluentui/react-component-nesting-registry';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport { mergeComponentVariables } from '@fluentui/styles';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\n\nimport {\n  createShorthandFactory,\n  doesNodeContainClick,\n  UIComponentProps,\n  ChildrenComponentProps,\n  ContentComponentProps,\n  commonPropTypes,\n  childrenExist,\n} from '../../utils';\nimport {\n  ComponentEventHandler,\n  ShorthandValue,\n  WithAsProp,\n  withSafeTypeForAs,\n  Omit,\n  ShorthandCollection,\n  FluentComponentStaticProps,\n  ProviderContextPrepared,\n} from '../../types';\nimport { getPopperPropsFromShorthand, Popper, PopperShorthandProps } from '../../utils/positioner';\n\nimport ToolbarMenu, { ToolbarMenuProps } from './ToolbarMenu';\nimport Box, { BoxProps } from '../Box/Box';\nimport Popup, { PopupProps } from '../Popup/Popup';\nimport { ToolbarMenuItemProps } from '../Toolbar/ToolbarMenuItem';\nimport { ToolbarItemShorthandKinds } from './Toolbar';\nimport { ToolbarVariablesContext, ToolbarVariablesProvider } from './toolbarVariablesContext';\n\nexport interface ToolbarItemProps extends UIComponentProps, ChildrenComponentProps, ContentComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<ToolbarItemBehaviorProps>;\n\n  /** A toolbar item can be active. */\n  active?: boolean;\n\n  /** A toolbar item can show it is currently unable to be interacted with. */\n  disabled?: boolean;\n\n  /** Name or shorthand for Toolbar Item Icon */\n  icon?: ShorthandValue<BoxProps>;\n\n  /**\n   * Shorthand for the submenu.\n   * If submenu is specified, the item is wrapped to group the item and the menu elements together.\n   */\n  menu?:\n    | ShorthandValue<ToolbarMenuProps & { popper?: PopperShorthandProps }>\n    | ShorthandCollection<ToolbarMenuItemProps, ToolbarItemShorthandKinds>;\n\n  /** Indicates if the menu inside the item is open. */\n  menuOpen?: boolean;\n\n  /**\n   * Event for request to change 'menuOpen' value.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onMenuOpenChange?: ComponentEventHandler<ToolbarItemProps>;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<ToolbarItemProps>;\n\n  /**\n   * Called after user's focus.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onFocus?: ComponentEventHandler<ToolbarItemProps>;\n\n  /**\n   * Called after item blur.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onBlur?: ComponentEventHandler<ToolbarItemProps>;\n\n  /**\n   * Attaches a `Popup` component to the ToolbarItem.\n   * Accepts all props as a `Popup`, except `trigger` and `children`.\n   * Traps focus by default.\n   * @see PopupProps\n   */\n  popup?: Omit<PopupProps, 'trigger' | 'children'> | string;\n\n  /** Shorthand for the wrapper component. The item is wrapped only if it contains a menu! */\n  wrapper?: ShorthandValue<BoxProps>;\n}\n\nexport type ToolbarItemStylesProps = Required<Pick<ToolbarItemProps, 'active' | 'disabled'>>;\n\nexport interface ToolbarItemSlotClassNames {\n  wrapper: string;\n}\n\nexport const toolbarItemClassName = 'ui-toolbar__item';\nexport const toolbarItemSlotClassNames: ToolbarItemSlotClassNames = {\n  wrapper: `${toolbarItemClassName}__wrapper`,\n};\n\nconst ToolbarItem: React.FC<WithAsProp<ToolbarItemProps>> & FluentComponentStaticProps<ToolbarItemProps> = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(ToolbarItem.displayName, context.telemetry);\n  setStart();\n\n  const {\n    accessibility,\n    active,\n    className,\n    design,\n    icon,\n    children,\n    disabled,\n    popup,\n    menu,\n    menuOpen,\n    wrapper,\n    styles,\n    variables,\n  } = props;\n\n  const itemRef = React.useRef<HTMLElement>();\n  const menuRef = React.useRef<HTMLElement>();\n\n  const parentVariables = React.useContext(ToolbarVariablesContext);\n  const mergedVariables = mergeComponentVariables(parentVariables, variables);\n\n  const getA11yProps = useAccessibility(accessibility, {\n    debugName: ToolbarItem.displayName,\n    actionHandlers: {\n      performClick: event => {\n        event.preventDefault();\n        handleClick(event);\n      },\n      performWrapperClick: event => {\n        handleWrapperClick(event);\n      },\n      closeMenuAndFocusTrigger: event => {\n        trySetMenuOpen(false, event);\n        _.invoke(itemRef.current, 'focus');\n      },\n      doNotNavigateNextToolbarItem: event => {\n        event.stopPropagation();\n      },\n    },\n    mapPropsToBehavior: () => ({\n      as: String(props.as),\n      disabled,\n      hasMenu: !!menu,\n      hasPopup: !!popup,\n      menuOpen,\n      active,\n    }),\n    rtl: context.rtl,\n  });\n  const { classes } = useStyles<ToolbarItemStylesProps>(ToolbarItem.displayName, {\n    className: toolbarItemClassName,\n    mapPropsToStyles: () => ({ active, disabled }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables: mergedVariables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleBlur = (e: React.SyntheticEvent) => {\n    _.invoke(props, 'onBlur', e, props);\n  };\n\n  const handleFocus = (e: React.SyntheticEvent) => {\n    _.invoke(props, 'onFocus', e, props);\n  };\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (menu) {\n      trySetMenuOpen(!menuOpen, e);\n    }\n\n    _.invoke(props, 'onClick', e, props);\n  };\n\n  const handleWrapperClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (menu) {\n      if (doesNodeContainClick(menuRef.current, e.nativeEvent as MouseEvent, context.target)) {\n        trySetMenuOpen(false, e);\n      }\n    }\n  };\n\n  const handleOutsideClick = (getRefs: GetRefs) => (e: MouseEvent) => {\n    const isItemClick = doesNodeContainClick(itemRef.current, e, context.target);\n    const isNestedClick = _.some(getRefs(), (childRef: NodeRef) => {\n      return doesNodeContainClick(childRef.current as HTMLElement, e, context.target);\n    });\n    const isInside = isItemClick || isNestedClick;\n\n    if (!isInside) {\n      trySetMenuOpen(false, e);\n    }\n  };\n\n  const trySetMenuOpen = (newValue: boolean, e: Event | React.SyntheticEvent) => {\n    _.invoke(props, 'onMenuOpenChange', e, { ...props, menuOpen: newValue });\n  };\n\n  const handleMenuOverrides = (getRefs: GetRefs) => (predefinedProps: ToolbarMenuProps) => ({\n    onBlur: (e: React.FocusEvent) => {\n      const isInsideOrMenuTrigger = _.some(getRefs(), (childRef: NodeRef) => {\n        return (\n          childRef.current.contains(e.relatedTarget as HTMLElement) ||\n          itemRef.current.contains(e.relatedTarget as HTMLElement)\n        );\n      });\n\n      if (!isInsideOrMenuTrigger) {\n        trySetMenuOpen(false, e);\n      }\n    },\n    onItemClick: (e, itemProps: ToolbarMenuItemProps) => {\n      const { popup, menuOpen } = itemProps;\n      _.invoke(predefinedProps, 'onItemClick', e, itemProps);\n      if (popup) {\n        return;\n      }\n      // TODO: should we pass toolbarMenuItem to the user callback so he can decide if he wants to close the menu?\n      trySetMenuOpen(menuOpen, e);\n    },\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(ToolbarItem.handledProps, props);\n\n  const itemElement = (\n    <ElementType\n      {...getA11yProps('root', {\n        ...unhandledProps,\n        disabled,\n        className: classes.root,\n        onBlur: handleBlur,\n        onFocus: handleFocus,\n        onClick: handleClick,\n      })}\n    >\n      {childrenExist(children) ? children : Box.create(icon)}\n    </ElementType>\n  );\n\n  const submenuElement = menuOpen ? (\n    <Unstable_NestingAuto>\n      {(getRefs, nestingRef) => (\n        <>\n          <Ref\n            innerRef={(node: HTMLElement) => {\n              nestingRef.current = node;\n              menuRef.current = node;\n            }}\n          >\n            <Popper align=\"start\" position=\"above\" targetRef={itemRef} {...getPopperPropsFromShorthand(menu)}>\n              <ToolbarVariablesProvider value={mergedVariables}>\n                {ToolbarMenu.create(menu, {\n                  overrideProps: handleMenuOverrides(getRefs),\n                })}\n              </ToolbarVariablesProvider>\n            </Popper>\n          </Ref>\n          <EventListener listener={handleOutsideClick(getRefs)} target={context.target} type=\"click\" capture />\n        </>\n      )}\n    </Unstable_NestingAuto>\n  ) : null;\n\n  if (popup) {\n    const popupElement = Popup.create(popup, {\n      defaultProps: () => ({\n        trapFocus: true,\n      }),\n      overrideProps: {\n        trigger: itemElement,\n        children: undefined, // force-reset `children` defined for `Popup` as it collides with the `trigger`\n      },\n    });\n    setEnd();\n\n    return popupElement;\n  }\n\n  // wrap the item if it has menu (even if it is closed = not rendered)\n  if (menu) {\n    const contentElement = (\n      <>\n        <Ref innerRef={itemRef}>{itemElement}</Ref>\n        {submenuElement}\n      </>\n    );\n\n    if (wrapper) {\n      const wrapperElement = Box.create(wrapper, {\n        defaultProps: () =>\n          getA11yProps('wrapper', {\n            className: cx(toolbarItemSlotClassNames.wrapper, classes.wrapper),\n          }),\n        overrideProps: predefinedProps => ({\n          children: contentElement,\n          onClick: e => {\n            handleWrapperClick(e);\n            _.invoke(predefinedProps, 'onClick', e);\n          },\n        }),\n      });\n      setEnd();\n\n      return wrapperElement;\n    }\n\n    setEnd();\n    return contentElement;\n  }\n\n  const refElement = <Ref innerRef={itemRef}>{itemElement}</Ref>;\n  setEnd();\n\n  return refElement;\n};\n\nToolbarItem.displayName = 'ToolbarItem';\n\nToolbarItem.defaultProps = {\n  as: 'button',\n  accessibility: toolbarItemBehavior,\n  wrapper: {},\n};\nToolbarItem.propTypes = {\n  ...commonPropTypes.createCommon(),\n  active: PropTypes.bool,\n  disabled: PropTypes.bool,\n  icon: customPropTypes.shorthandAllowingChildren,\n  menu: PropTypes.oneOfType([\n    customPropTypes.shorthandAllowingChildren,\n    PropTypes.arrayOf(customPropTypes.shorthandAllowingChildren),\n  ]),\n  menuOpen: PropTypes.bool,\n  onMenuOpenChange: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  popup: PropTypes.oneOfType([\n    PropTypes.shape({\n      ...Popup.propTypes,\n      trigger: customPropTypes.never,\n      children: customPropTypes.never,\n    }),\n    PropTypes.string,\n  ]),\n  wrapper: customPropTypes.shorthandAllowingChildren,\n};\nToolbarItem.handledProps = Object.keys(ToolbarItem.propTypes) as any;\n\nToolbarItem.create = createShorthandFactory({ Component: ToolbarItem, mappedProp: 'content' });\n\n/**\n * A ToolbarItem renders Toolbar item as a button with an icon.\n */\nexport default withSafeTypeForAs<typeof ToolbarItem, ToolbarItemProps, 'button'>(ToolbarItem);\n"],"file":"ToolbarItem.js"}