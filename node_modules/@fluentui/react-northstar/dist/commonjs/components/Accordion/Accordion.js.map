{"version":3,"sources":["components/Accordion/Accordion.tsx"],"names":["accordionClassName","accordionSlotClassNames","content","title","Accordion","props","context","React","useContext","ThemeContext","displayName","telemetry","setStart","setEnd","expanded","exclusive","accessibility","children","className","design","styles","variables","panels","renderPanelContent","renderPanelTitle","alwaysActiveIndex","defaultValue","defaultActiveIndex","value","activeIndex","initialValue","setActiveIndex","actionHandlers","moveNext","e","preventDefault","focusHandler","movePrevious","moveFirst","moveLast","getA11yProps","debugName","rtl","mapPropsToInlineStyles","classes","useState","focusedIndex","setfocusedIndex","handleNavigationFocus","index","useEffect","targetComponent","itemRefs","current","focus","getNavigationItemsSize","length","unhandledProps","handledProps","ElementType","ContainerFocusHandler","useMemo","Array","from","createRef","defaultAccordionTitleId","defaultAccordionContentId","computeNewIndex","isIndexActionable","handleTitleOverrides","predefinedProps","onClick","titleProps","onFocus","isIndexActive","renderPanels","syncFocusedIndex","panel","active","canBeCollapsed","titleId","contentId","contentRef","push","AccordionTitle","defaultProps","id","accordionContentId","overrideProps","render","AccordionContent","accordionTitleId","element","root","rtlTextContainer","getAttributes","forElements","propTypes","commonPropTypes","createCommon","customPropTypes","every","disallow","PropTypes","oneOfType","arrayOf","number","bool","onTitleClick","func","onActiveIndexChange","shape","itemShorthand","accordionBehavior","as","Object","keys","Title","Content","create","Component"],"mappings":"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","sourcesContent":["import { Accessibility, accordionBehavior, AccordionBehaviorProps } from '@fluentui/accessibility';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport {\n  childrenExist,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n  createShorthand,\n  createShorthandFactory,\n} from '../../utils';\nimport AccordionTitle, { AccordionTitleProps } from './AccordionTitle';\nimport AccordionContent, { AccordionContentProps } from './AccordionContent';\n\nimport {\n  ComponentEventHandler,\n  WithAsProp,\n  ShorthandValue,\n  ShorthandRenderFunction,\n  withSafeTypeForAs,\n  FluentComponentStaticProps,\n  ProviderContextPrepared,\n} from '../../types';\nimport { ContainerFocusHandler } from '../../utils/accessibility/FocusHandling/FocusContainer';\nimport {\n  useAutoControlled,\n  useAccessibility,\n  useTelemetry,\n  useUnhandledProps,\n  getElementType,\n  useStyles,\n} from '@fluentui/react-bindings';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\n\nexport interface AccordionSlotClassNames {\n  content: string;\n  title: string;\n}\n\nexport interface AccordionProps extends UIComponentProps, ChildrenComponentProps {\n  /** Index of the currently active panel. */\n  activeIndex?: number[] | number;\n\n  /** Initial activeIndex value. */\n  defaultActiveIndex?: number[] | number;\n\n  /** Only allow one panel to be expanded at a time. */\n  exclusive?: boolean;\n\n  /** At least one panel should be expanded at any time. */\n  expanded?: boolean;\n\n  /**\n   * Called when the active index of the Accordion changes.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props, with `activeIndex` reflecting the new state.\n   */\n  onActiveIndexChange?: ComponentEventHandler<AccordionProps>;\n\n  /**\n   * Called when a panel title is clicked.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All item props.\n   */\n  onTitleClick?: ComponentEventHandler<AccordionProps>;\n\n  /** Shorthand array of props for Accordion. */\n  panels?: {\n    content: ShorthandValue<AccordionContentProps>;\n    title: ShorthandValue<AccordionTitleProps>;\n  }[];\n\n  /**\n   * A custom renderer for each Accordion's panel title.\n   *\n   * @param Component - The panel's component type.\n   * @param props - The panel's computed props.\n   */\n  renderPanelTitle?: ShorthandRenderFunction<AccordionTitleProps>;\n\n  /**\n   * A custom renderer for each Accordion's panel content.\n   *\n   * @param Component - The panel's component type.\n   * @param props - The panel's computed props.\n   */\n  renderPanelContent?: ShorthandRenderFunction<AccordionContentProps>;\n\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<AccordionBehaviorProps>;\n}\n\nexport type AccordionStylesProps = never;\nexport const accordionClassName = 'ui-accordion';\nexport const accordionSlotClassNames: AccordionSlotClassNames = {\n  content: `${accordionClassName}__content`,\n  title: `${accordionClassName}__title`,\n};\n\nexport const Accordion: React.FC<WithAsProp<AccordionProps>> &\n  FluentComponentStaticProps<AccordionProps> & {\n    Title: typeof AccordionTitle;\n    Content: typeof AccordionContent;\n  } = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(Accordion.displayName, context.telemetry);\n  setStart();\n  const {\n    expanded,\n    exclusive,\n    accessibility,\n    children,\n    className,\n    design,\n    styles,\n    variables,\n    panels,\n    renderPanelContent,\n    renderPanelTitle,\n  } = props;\n  const alwaysActiveIndex = expanded ? 0 : -1;\n\n  const [activeIndex, setActiveIndex] = useAutoControlled({\n    defaultValue: props.defaultActiveIndex,\n    value: props.activeIndex,\n    initialValue: exclusive ? alwaysActiveIndex : [alwaysActiveIndex],\n  });\n\n  const actionHandlers = {\n    moveNext: e => {\n      e.preventDefault();\n      focusHandler.moveNext();\n    },\n    movePrevious: e => {\n      e.preventDefault();\n      focusHandler.movePrevious();\n    },\n    moveFirst: e => {\n      e.preventDefault();\n      focusHandler.moveFirst();\n    },\n    moveLast: e => {\n      e.preventDefault();\n      focusHandler.moveLast();\n    },\n  };\n\n  const getA11yProps = useAccessibility<AccordionBehaviorProps>(accessibility, {\n    debugName: Accordion.displayName,\n    actionHandlers,\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<AccordionStylesProps>(Accordion.displayName, {\n    className: accordionClassName,\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const [focusedIndex, setfocusedIndex] = React.useState<number>();\n\n  const handleNavigationFocus = (index: number) => {\n    setfocusedIndex(index);\n  };\n\n  React.useEffect(() => {\n    const targetComponent = itemRefs[focusedIndex] && itemRefs[focusedIndex].current;\n    targetComponent && targetComponent.focus();\n  }, [focusedIndex]);\n\n  const getNavigationItemsSize = () => props.panels.length;\n  const unhandledProps = useUnhandledProps(Accordion.handledProps, props);\n  const ElementType = getElementType(props);\n\n  const focusHandler: ContainerFocusHandler = new ContainerFocusHandler(\n    getNavigationItemsSize,\n    handleNavigationFocus,\n    true,\n  );\n\n  const itemRefs = React.useMemo<React.RefObject<HTMLElement>[]>(\n    () => Array.from({ length: panels?.length }, () => React.createRef()),\n    [panels?.length],\n  );\n\n  const defaultAccordionTitleId = React.useMemo(() => _.uniqueId('accordion-title-'), []);\n  const defaultAccordionContentId = React.useMemo(() => _.uniqueId('accordion-content-'), []);\n\n  const computeNewIndex = (index: number): number | number[] => {\n    if (!isIndexActionable(index)) {\n      return activeIndex;\n    }\n\n    if (exclusive) return index === activeIndex ? -1 : index;\n    // check to see if index is in array, and remove it, if not then add it\n    return _.includes(activeIndex as number[], index)\n      ? _.without(activeIndex as number[], index)\n      : [...(activeIndex as number[]), index];\n  };\n\n  const handleTitleOverrides = (predefinedProps: AccordionTitleProps) => ({\n    onClick: (e: React.SyntheticEvent, titleProps: AccordionTitleProps) => {\n      const { index } = titleProps;\n      const activeIndex = computeNewIndex(index);\n      setActiveIndex(activeIndex);\n      setfocusedIndex(index);\n\n      _.invoke(props, 'onActiveIndexChange', e, { ...props, activeIndex });\n      _.invoke(predefinedProps, 'onClick', e, titleProps);\n      _.invoke(props, 'onTitleClick', e, titleProps);\n    },\n    onFocus: (e: React.SyntheticEvent, titleProps: AccordionTitleProps) => {\n      _.invoke(predefinedProps, 'onFocus', e, titleProps);\n      setfocusedIndex(predefinedProps.index);\n    },\n  });\n\n  const isIndexActive = (index: number): boolean => {\n    return exclusive ? activeIndex === index : _.includes(activeIndex as number[], index);\n  };\n\n  /**\n   * Checks if panel at index can be actioned upon. Used in the case of expanded accordion,\n   * when at least a panel needs to stay active. Will return false if expanded prop is true,\n   * index is active and either it's an exclusive accordion or if there are no other active\n   * panels open besides this one.\n   *\n   * @param index - The index of the panel.\n   * @returns If the panel can be set active/inactive.\n   */\n  const isIndexActionable = (index: number): boolean => {\n    if (!isIndexActive(index)) {\n      return true;\n    }\n\n    return !expanded || (!exclusive && (activeIndex as number[]).length > 1);\n  };\n\n  const renderPanels = () => {\n    const children: any[] = [];\n    focusHandler.syncFocusedIndex(focusedIndex);\n    _.each(panels, (panel, index) => {\n      const { content, title } = panel;\n      const active = isIndexActive(+index);\n      const canBeCollapsed = isIndexActionable(+index);\n      const titleId = title['id'] || `${defaultAccordionTitleId}${index}`;\n      const contentId = content['id'] || `${defaultAccordionContentId}${index}`;\n      const contentRef = itemRefs[index];\n\n      children.push(\n        createShorthand(AccordionTitle, title, {\n          defaultProps: () => ({\n            className: accordionSlotClassNames.title,\n            active,\n            index: +index,\n            contentRef,\n            canBeCollapsed,\n            id: titleId,\n            accordionContentId: contentId,\n          }),\n          overrideProps: handleTitleOverrides,\n          render: renderPanelTitle,\n        }),\n      );\n      children.push(\n        createShorthand(AccordionContent, content, {\n          defaultProps: () => ({\n            className: accordionSlotClassNames.content,\n            active,\n            id: contentId,\n            accordionTitleId: titleId,\n          }),\n          render: renderPanelContent,\n        }),\n      );\n    });\n    return children;\n  };\n\n  const element = (\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        ...unhandledProps,\n      })}\n      {...rtlTextContainer.getAttributes({ forElements: [children] })}\n    >\n      {childrenExist(children) ? children : renderPanels()}\n    </ElementType>\n  );\n\n  setEnd();\n\n  return element;\n};\n\nAccordion.displayName = 'Accordion';\n\nAccordion.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  activeIndex: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n  ]),\n  defaultActiveIndex: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n  ]),\n  exclusive: PropTypes.bool,\n  expanded: PropTypes.bool,\n  onTitleClick: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.func]),\n  onActiveIndexChange: PropTypes.func,\n  panels: customPropTypes.every([\n    customPropTypes.disallow(['children']),\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        content: customPropTypes.itemShorthand,\n        title: customPropTypes.itemShorthand,\n      }),\n    ),\n  ]),\n\n  renderPanelTitle: PropTypes.func,\n  renderPanelContent: PropTypes.func,\n};\n\nAccordion.defaultProps = {\n  accessibility: accordionBehavior,\n  as: 'dl',\n};\nAccordion.handledProps = Object.keys(Accordion.propTypes) as any;\nAccordion.Title = AccordionTitle;\nAccordion.Content = AccordionContent;\nAccordion.create = createShorthandFactory({\n  Component: Accordion,\n});\n\n/**\n * An Accordion represents stacked set of content sections, with action elements to toggle the display of these sections.\n *\n * @accessibility\n * Implements [ARIA Accordion](https://www.w3.org/TR/wai-aria-practices-1.1/#accordion) design pattern (keyboard navigation not yet supported).\n */\nexport default withSafeTypeForAs<typeof Accordion, AccordionProps>(Accordion);\n"],"file":"Accordion.js"}