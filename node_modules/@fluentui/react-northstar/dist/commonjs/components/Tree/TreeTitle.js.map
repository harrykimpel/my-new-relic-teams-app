{"version":3,"sources":["components/Tree/TreeTitle.tsx"],"names":["treeTitleClassName","treeTitleSlotClassNames","indicator","TreeTitle","props","context","React","useContext","ThemeContext","displayName","telemetry","setStart","setEnd","accessibility","children","className","content","design","hasSubtree","level","index","styles","treeSize","variables","selectionIndicator","disabled","selected","selectable","selectableParent","expanded","indeterminate","getA11Props","debugName","actionHandlers","performClick","e","preventDefault","stopPropagation","handleClick","performSelection","mapPropsToBehavior","rtl","mapPropsToInlineStyles","classes","resolvedStyles","ElementType","unhandledProps","handledProps","selectIndicator","Box","create","defaultProps","as","element","root","onClick","rtlTextContainer","getAttributes","forElements","propTypes","commonPropTypes","createCommon","PropTypes","bool","number","func","customPropTypes","shorthandAllowingChildren","treeTitleBehavior","Object","keys","Component","mappedProp"],"mappings":"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","sourcesContent":["import { Accessibility, treeTitleBehavior, TreeTitleBehaviorProps } from '@fluentui/accessibility';\nimport { getElementType, useUnhandledProps, useAccessibility, useStyles, useTelemetry } from '@fluentui/react-bindings';\nimport Box, { BoxProps } from '../Box/Box';\nimport { SupportedIntrinsicInputProps } from '../../utils/htmlPropsUtils';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n// @ts-ignore\nimport { ThemeContext } from 'react-fela';\n\nimport {\n  childrenExist,\n  createShorthandFactory,\n  commonPropTypes,\n  UIComponentProps,\n  ChildrenComponentProps,\n  ContentComponentProps,\n  rtlTextContainer,\n} from '../../utils';\nimport {\n  ComponentEventHandler,\n  FluentComponentStaticProps,\n  ProviderContextPrepared,\n  WithAsProp,\n  withSafeTypeForAs,\n  ShorthandValue,\n} from '../../types';\n\nexport interface TreeTitleSlotClassNames {\n  indicator: string;\n}\n\nexport interface TreeTitleProps extends UIComponentProps, ChildrenComponentProps, ContentComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<TreeTitleBehaviorProps>;\n\n  /** Whether or not the title has a subtree. */\n  hasSubtree?: boolean;\n\n  /** The index of the title among its siblings. Count starts at 1. */\n  index?: number;\n\n  /** Level of the tree/subtree that contains this title. */\n  level?: number;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<TreeTitleProps>;\n\n  /** Whether or not the subtree of the title is in the open state. */\n  expanded?: boolean;\n\n  /** Size of the tree containing this title without any children. */\n  treeSize?: number;\n\n  /** Whether or not tree title is part of the selectable parent. */\n  selectableParent?: boolean;\n\n  /** A selection indicator icon can be customized. */\n  selectionIndicator?: ShorthandValue<BoxProps>;\n\n  /** A selection indicator can appear disabled and be unable to change states. */\n  disabled?: SupportedIntrinsicInputProps['disabled'];\n\n  /** A state of selection indicator. */\n  selected?: boolean;\n\n  /** Whether or not tree title is selectable. */\n  selectable?: boolean;\n\n  /** For selectable parents define if all nested children are checked */\n  indeterminate?: boolean;\n}\n\nexport type TreeTitleStylesProps = Pick<\n  TreeTitleProps,\n  'selected' | 'selectable' | 'disabled' | 'selectableParent' | 'indeterminate'\n>;\n\nexport const treeTitleClassName = 'ui-tree__title';\n\nexport const treeTitleSlotClassNames = {\n  indicator: `${treeTitleClassName}__selection-indicator`,\n};\nconst TreeTitle: React.FC<WithAsProp<TreeTitleProps>> & FluentComponentStaticProps<TreeTitleProps> = props => {\n  const context: ProviderContextPrepared = React.useContext(ThemeContext);\n  const { setStart, setEnd } = useTelemetry(TreeTitle.displayName, context.telemetry);\n  setStart();\n\n  const {\n    accessibility,\n    children,\n    className,\n    content,\n    design,\n    hasSubtree,\n    level,\n    index,\n    styles,\n    treeSize,\n    variables,\n    selectionIndicator,\n    disabled,\n    selected,\n    selectable,\n    selectableParent,\n    expanded,\n    indeterminate,\n  } = props;\n\n  const getA11Props = useAccessibility(accessibility, {\n    debugName: TreeTitle.displayName,\n    actionHandlers: {\n      performClick: e => {\n        e.preventDefault();\n        e.stopPropagation();\n        handleClick(e);\n      },\n      performSelection: e => {\n        e.preventDefault();\n        e.stopPropagation();\n        handleClick(e);\n      },\n    },\n    mapPropsToBehavior: () => ({\n      hasSubtree,\n      level,\n      index,\n      treeSize,\n      selected,\n      selectable,\n      selectableParent,\n    }),\n    rtl: context.rtl,\n  });\n  const { classes, styles: resolvedStyles } = useStyles<TreeTitleStylesProps>(TreeTitle.displayName, {\n    className: treeTitleClassName,\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n      selected,\n      selectableParent,\n      disabled,\n      selectable,\n      indeterminate,\n    }),\n    rtl: context.rtl,\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TreeTitle.handledProps, props);\n  const handleClick = e => {\n    _.invoke(props, 'onClick', e, props);\n  };\n\n  const selectIndicator = Box.create(selectionIndicator, {\n    defaultProps: () => ({\n      as: 'span',\n      selected,\n      ...(selectableParent && !_.isEmpty(selectionIndicator) && { expanded }),\n      ...getA11Props('indicator', {\n        className: treeTitleSlotClassNames.indicator,\n        ...(((selectable && !hasSubtree) || (selectableParent && expanded)) &&\n          _.isEmpty(selectionIndicator) && {\n            styles: resolvedStyles.selectionIndicator,\n          }),\n      }),\n    }),\n  });\n\n  const element = (\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        onClick: handleClick,\n        selected,\n        ...rtlTextContainer.getAttributes({ forElements: [children, content] }),\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children) ? children : content}\n\n      {selectable && selectIndicator}\n    </ElementType>\n  );\n  setEnd();\n\n  return element;\n};\n\nTreeTitle.displayName = 'TreeTitle';\n\nTreeTitle.propTypes = {\n  ...commonPropTypes.createCommon(),\n  hasSubtree: PropTypes.bool,\n  index: PropTypes.number,\n  level: PropTypes.number,\n  onClick: PropTypes.func,\n  expanded: PropTypes.bool,\n  selected: PropTypes.bool,\n  selectable: PropTypes.bool,\n  selectableParent: PropTypes.bool,\n  treeSize: PropTypes.number,\n  selectionIndicator: customPropTypes.shorthandAllowingChildren,\n  indeterminate: PropTypes.bool,\n};\nTreeTitle.defaultProps = {\n  as: 'a',\n  selectionIndicator: {},\n  accessibility: treeTitleBehavior,\n};\nTreeTitle.handledProps = Object.keys(TreeTitle.propTypes) as any;\n\nTreeTitle.create = createShorthandFactory({\n  Component: TreeTitle,\n  mappedProp: 'content',\n});\n\n/**\n * A TreeTitle renders a title of TreeItem.\n */\nexport default withSafeTypeForAs<typeof TreeTitle, TreeTitleProps, 'a'>(TreeTitle);\n"],"file":"TreeTitle.js"}