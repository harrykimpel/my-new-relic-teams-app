{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar RefStack = function RefStack() {\n  var _this = this;\n\n  _classCallCheck(this, RefStack);\n\n  _defineProperty(this, \"set\", new Set());\n\n  _defineProperty(this, \"getContextRefs\", function (ref) {\n    var nodes = Array.from(_this.set);\n    var refId = nodes.indexOf(ref);\n    return nodes.slice(refId);\n  });\n\n  _defineProperty(this, \"register\", function (ref) {\n    _this.set.add(ref);\n  });\n\n  _defineProperty(this, \"unregister\", function (ref) {\n    _this.set.delete(ref);\n  });\n};\n\nexport { RefStack as default };","map":{"version":3,"sources":["utils/RefStack.ts"],"names":["RefStack","nodes","Array","refId"],"mappings":";;;IAEqBA,Q;;;;;+BACL,IAAA,GAAA,E;;0CAEU,UAAA,GAAA,EAA6B;AACnD,QAAMC,KAAK,GAAGC,KAAK,CAALA,IAAAA,CAAW,KAAI,CAA7B,GAAcA,CAAd;AACA,QAAMC,KAAK,GAAGF,KAAK,CAALA,OAAAA,CAAd,GAAcA,CAAd;AAEA,WAAOA,KAAK,CAALA,KAAAA,CAAP,KAAOA,CAAP;;;oCAGgB,UAAA,GAAA,EAAwB;AACxC,IAAA,KAAI,CAAJ,GAAA,CAAA,GAAA,CAAA,GAAA;;;sCAGkB,UAAA,GAAA,EAAwB;AAC1C,IAAA,KAAI,CAAJ,GAAA,CAAA,MAAA,CAAA,GAAA;;;;SAfiBD,Q","sourcesContent":["import { NodeRef } from '../types';\n\nexport default class RefStack {\n  private set = new Set<NodeRef>();\n\n  public getContextRefs = (ref: NodeRef): NodeRef[] => {\n    const nodes = Array.from(this.set);\n    const refId = nodes.indexOf(ref);\n\n    return nodes.slice(refId);\n  };\n\n  public register = (ref: NodeRef): void => {\n    this.set.add(ref);\n  };\n\n  public unregister = (ref: NodeRef): void => {\n    this.set.delete(ref);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}