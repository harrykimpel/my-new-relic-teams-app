{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nexport var ContainerFocusHandler = /*#__PURE__*/function () {\n  function ContainerFocusHandler(getItemsCount, setFocusAt) {\n    var _this = this;\n\n    var circular = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    _classCallCheck(this, ContainerFocusHandler);\n\n    this.getItemsCount = getItemsCount;\n    this.setFocusAt = setFocusAt;\n    this.circular = circular;\n\n    _defineProperty(this, \"focusedIndex\", 0);\n\n    _defineProperty(this, \"noItems\", function () {\n      return _this.getItemsCount() === 0;\n    });\n  }\n\n  _createClass(ContainerFocusHandler, [{\n    key: \"constrainFocusedIndex\",\n    value: function constrainFocusedIndex() {\n      var itemsCount = this.getItemsCount();\n\n      if (this.focusedIndex < 0) {\n        this.focusedIndex = this.circular ? itemsCount - 1 : 0;\n      }\n\n      if (this.focusedIndex >= itemsCount) {\n        this.focusedIndex = this.circular ? 0 : itemsCount - 1;\n      }\n    }\n  }, {\n    key: \"getFocusedIndex\",\n    value: function getFocusedIndex() {\n      return this.focusedIndex;\n    }\n  }, {\n    key: \"syncFocusedIndex\",\n    value: function syncFocusedIndex(withCurrentIndex) {\n      this.focusedIndex = withCurrentIndex;\n    }\n  }, {\n    key: \"movePrevious\",\n    value: function movePrevious() {\n      if (this.noItems()) {\n        return;\n      }\n\n      this.focusedIndex -= 1;\n      this.constrainFocusedIndex();\n      this.setFocusAt(this.focusedIndex);\n    }\n  }, {\n    key: \"moveNext\",\n    value: function moveNext() {\n      if (this.noItems()) {\n        return;\n      }\n\n      this.focusedIndex += 1;\n      this.constrainFocusedIndex();\n      this.setFocusAt(this.focusedIndex);\n    }\n  }, {\n    key: \"moveFirst\",\n    value: function moveFirst() {\n      if (this.noItems()) {\n        return;\n      }\n\n      this.focusedIndex = 0;\n      this.setFocusAt(this.focusedIndex);\n    }\n  }, {\n    key: \"moveLast\",\n    value: function moveLast() {\n      if (this.noItems()) {\n        return;\n      }\n\n      this.focusedIndex = this.getItemsCount() - 1;\n      this.setFocusAt(this.focusedIndex);\n    }\n  }]);\n\n  return ContainerFocusHandler;\n}();","map":{"version":3,"sources":["utils/accessibility/FocusHandling/FocusContainer.ts"],"names":["ContainerFocusHandler","getItemsCount","setFocusAt","circular","itemsCount"],"mappings":";;;AAAA,OAAA,IAAaA,qBAAb,GAAA,aAAA,YAAA;AAGE,WAAA,qBAAA,CAAA,aAAA,EAAA,UAAA,EAIE;AAAA,QAAA,KAAA,GAAA,IAAA;;AAAA,QADQG,QACR,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GADmB,KACnB;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,qBAAA,CAAA;;AAAA,SAHQF,aAGR,GAHQA,aAGR;AAAA,SAFiBC,UAEjB,GAFiBA,UAEjB;AAAA,SADQC,QACR,GADQA,QACR;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,cAAA,EANqB,CAMrB,CAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,SAAA,EAEgB,YAAA;AAAA,aAAe,KAAI,CAAJ,aAAA,OAAf,CAAA;AAFhB,KAAA,CAAA;AAAE;;AAPN,EAAA,YAAA,CAAA,qBAAA,EAAA,CAAA;AAAA,IAAA,GAAA,EAAA,uBAAA;AAAA,IAAA,KAAA,EAAA,SAAA,qBAAA,GAWwC;AACpC,UAAMC,UAAU,GAAG,KAAnB,aAAmB,EAAnB;;AACA,UAAI,KAAA,YAAA,GAAJ,CAAA,EAA2B;AACzB,aAAA,YAAA,GAAoB,KAAA,QAAA,GAAgBA,UAAU,GAA1B,CAAA,GAApB,CAAA;AACD;;AAED,UAAI,KAAA,YAAA,IAAJ,UAAA,EAAqC;AACnC,aAAA,YAAA,GAAoB,KAAA,QAAA,GAAA,CAAA,GAAoBA,UAAU,GAAlD,CAAA;AACD;AACF;AApBH,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,iBAAA;AAAA,IAAA,KAAA,EAAA,SAAA,eAAA,GAsBmC;AAC/B,aAAO,KAAP,YAAA;AACD;AAxBH,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,kBAAA;AAAA,IAAA,KAAA,EAAA,SAAA,gBAAA,CAAA,gBAAA,EA0BoD;AAChD,WAAA,YAAA,GAAA,gBAAA;AACD;AA5BH,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,cAAA;AAAA,IAAA,KAAA,EAAA,SAAA,YAAA,GA8B8B;AAC1B,UAAI,KAAJ,OAAI,EAAJ,EAAoB;AAClB;AACD;;AAED,WAAA,YAAA,IAAA,CAAA;AACA,WAAA,qBAAA;AAEA,WAAA,UAAA,CAAgB,KAAhB,YAAA;AACD;AAvCH,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,UAAA;AAAA,IAAA,KAAA,EAAA,SAAA,QAAA,GAyC0B;AACtB,UAAI,KAAJ,OAAI,EAAJ,EAAoB;AAClB;AACD;;AAED,WAAA,YAAA,IAAA,CAAA;AACA,WAAA,qBAAA;AAEA,WAAA,UAAA,CAAgB,KAAhB,YAAA;AACD;AAlDH,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,WAAA;AAAA,IAAA,KAAA,EAAA,SAAA,SAAA,GAoD2B;AACvB,UAAI,KAAJ,OAAI,EAAJ,EAAoB;AAClB;AACD;;AAED,WAAA,YAAA,GAAA,CAAA;AACA,WAAA,UAAA,CAAgB,KAAhB,YAAA;AACD;AA3DH,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,UAAA;AAAA,IAAA,KAAA,EAAA,SAAA,QAAA,GA6D0B;AACtB,UAAI,KAAJ,OAAI,EAAJ,EAAoB;AAClB;AACD;;AAED,WAAA,YAAA,GAAoB,KAAA,aAAA,KAApB,CAAA;AACA,WAAA,UAAA,CAAgB,KAAhB,YAAA;AACD;AApEH,GAAA,CAAA,CAAA;;AAAA,SAAA,qBAAA;AAAA,CAAA,EAAA","sourcesContent":["export class ContainerFocusHandler {\n  private focusedIndex = 0;\n\n  constructor(\n    private getItemsCount: () => number,\n    private readonly setFocusAt: (number) => void,\n    private circular = false,\n  ) {}\n\n  private noItems = (): boolean => this.getItemsCount() === 0;\n\n  private constrainFocusedIndex(): void {\n    const itemsCount = this.getItemsCount();\n    if (this.focusedIndex < 0) {\n      this.focusedIndex = this.circular ? itemsCount - 1 : 0;\n    }\n\n    if (this.focusedIndex >= itemsCount) {\n      this.focusedIndex = this.circular ? 0 : itemsCount - 1;\n    }\n  }\n\n  public getFocusedIndex(): number {\n    return this.focusedIndex;\n  }\n\n  public syncFocusedIndex(withCurrentIndex: number) {\n    this.focusedIndex = withCurrentIndex;\n  }\n\n  public movePrevious(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex -= 1;\n    this.constrainFocusedIndex();\n\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveNext(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex += 1;\n    this.constrainFocusedIndex();\n\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveFirst(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex = 0;\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveLast(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex = this.getItemsCount() - 1;\n    this.setFocusAt(this.focusedIndex);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}